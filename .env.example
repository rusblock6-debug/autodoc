# AutoDoc AI System - Environment Variables Example
# =================================================
# ПРИВАТНОСТЬ: Все AI модели работают ЛОКАЛЬНО на вашем сервере!
# Нет внешних API - данные не покидают вашу инфраструктуру.

# === Application Settings ===
APP_NAME=AutoDoc AI System
APP_VERSION=1.0.0
DEBUG=true
ENVIRONMENT=development

# === Database (PostgreSQL) ===
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USER=autodoc
DATABASE_PASSWORD=autodoc_secret
DATABASE_NAME=autodoc_db

# === Redis (Task Queue) ===
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# === MinIO (S3-compatible Storage) ===
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_VIDEOS=autodoc-videos
MINIO_BUCKET_SCREENSHOTS=autodoc-screenshots
MINIO_BUCKET_WIKI=autodoc-wiki
MINIO_BUCKET_UPLOADS=autodoc-uploads
MINIO_BUCKET_AUDIO=autodoc-audio
MINIO_SECURE=false
MINIO_PRESIGNED_URL_EXPIRY=3600

# === AI Models Configuration ===

# ASR (Speech-to-Text) - OpenAI Whisper (локально)
WHISPER_MODEL_SIZE=medium  # Рекомендуется для баланса скорости/качества
WHISPER_DEVICE=cuda  # cuda или cpu

# LLM (Logic & Analysis) - ЛОКАЛЬНАЯ МОДЕЛЬ
# ===========================================
# Внешние API ОТКЛЮЧЕНЫ! Данные остаются на вашем сервере.
#
# Рекомендуемые GGUF модели (4-5 GB, 24GB VRAM):
# - Qwen/Qwen2.5-7B-Instruct-GGUF
# - meta-llama/Llama-3.1-8B-Instruct-GGUF
#
# Автоматически скачивается с Hugging Face при первом запуске

LLM_MODEL_NAME=Qwen/Qwen2.5-7B-Instruct-GGUF
LLM_MODEL_PATH=/tmp/autodoc_models/Qwen2.5-7B-Instruct-Q4_0.gguf

# Параметры инференса
LLM_THREADS=8
LLM_CONTEXT_SIZE=4096
LLM_BATCH_SIZE=512
LLM_MAX_TOKENS=2048
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9

# ВНЕШНИЕ API ОТКЛЮЧЕНЫ
LLM_API_BASE=
LLM_API_KEY=

# === TTS (Text-to-Speech) ===
TTS_ENGINE=edge-tts  # Онлайн (Microsoft) - требует интернет
EDGE_TTS_VOICE=ru-RU-SvetlanaNeural

# === Video Processing ===
VIDEO_OUTPUT_WIDTH=1920
VIDEO_OUTPUT_HEIGHT=1080
VIDEO_FPS=30
VIDEO_QUALITY=high

SHORTS_WIDTH=1080
SHORTS_HEIGHT=1920
SHORTS_FPS=60

# === Worker Configuration ===
WORKER_TEMP_DIR=/tmp/autodoc_worker_temp
SUBPROCESS_SCRIPT_PATH=workers/ai_runner.py

# === Redis Streams (Advanced Queue) ===
REDIS_STREAM_NAME=autodoc:tasks
REDIS_CONSUMER_GROUP=autodoc:workers
REDIS_VISIBILITY_TIMEOUT=3600
REDIS_BLOCK_TIMEOUT=5000

# === Heartbeat ===
HEARTBEAT_INTERVAL=10
STALE_TASK_THRESHOLD=60

# === AI Process Timeout ===
AI_PROCESS_TIMEOUT=3600

# === GPU Configuration ===
GPU_DEVICE_ID=0
GPU_MEMORY_FRACTION=0.8

# === Security (Измените в продакшене!) ===
SECRET_KEY=change-this-secret-key-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440
